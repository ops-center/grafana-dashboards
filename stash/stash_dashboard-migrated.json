{
  "kind": "Dashboard",
  "metadata": {
    "name": "NHbytwI7z",
    "createdAt": "0001-01-01T00:00:00Z",
    "updatedAt": "0001-01-01T00:00:00Z",
    "version": 0,
    "project": "pp"
  },
  "spec": {
    "display": {
      "name": "Stash / Dashboard"
    },
    "variables": [
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Data Source",
            "hidden": false
          },
          "defaultValue": "Prometheus",
          "allowAllValue": false,
          "allowMultiple": false,
          "plugin": {
            "kind": "DatasourceVariable",
            "spec": {
              "datasourcePluginKind": "PrometheusDatasource"
            }
          },
          "name": "datasource"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Namespace",
            "description": "List of namespaces where the backups are running",
            "hidden": false
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "customAllValue": ".+",
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "namespace",
              "matchers": [
                "stash_appscode_com_backupconfiguration_info"
              ]
            }
          },
          "name": "namespace"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Target Kind",
            "description": "Kind of the targeted application",
            "hidden": false
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "customAllValue": ".+",
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "target_kind",
              "matchers": [
                "stash_appscode_com_backupconfiguration_info{namespace=~\"${namespace}\"}"
              ]
            }
          },
          "name": "target_kind"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "name": "Target Name",
            "description": "Name of the targeted application",
            "hidden": false
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "customAllValue": ".+",
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "target_name",
              "matchers": [
                "stash_appscode_com_backupconfiguration_info{namespace=~\"${namespace}\", target_kind=~\"${target_kind}\"}"
              ]
            }
          },
          "name": "target_name"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "description": "Kind of the backup invoker object",
            "hidden": true
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "invoker_kind",
              "matchers": [
                "stash_appscode_com_backupconfiguration_info{namespace=~\"${namespace}\", target_kind=~\"${target_kind}\", target_name=~\"${target_name}\"}"
              ]
            }
          },
          "name": "backup_invoker_kind"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "description": "Name of the respective backup invoker object",
            "hidden": true
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "sort": "none",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "invoker_name",
              "matchers": [
                "stash_appscode_com_backupconfiguration_info{namespace=~\"${namespace}\", target_kind=~\"${target_kind}\", target_name=~\"${target_name}\"}"
              ]
            }
          },
          "name": "backup_invoker_name"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "description": "Kind of the restore invoker object",
            "hidden": true
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "invoker_kind",
              "matchers": [
                "stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", target_kind=~\"${target_kind}\", target_name=~\"${target_name}\"}"
              ]
            }
          },
          "name": "restore_invoker_kind"
        }
      },
      {
        "kind": "ListVariable",
        "spec": {
          "display": {
            "description": "Name of the respective restore invoker object",
            "hidden": true
          },
          "defaultValue": "$__all",
          "allowAllValue": true,
          "allowMultiple": false,
          "sort": "alphabetical-asc",
          "plugin": {
            "kind": "PrometheusLabelValuesVariable",
            "spec": {
              "labelName": "invoker_name",
              "matchers": [
                "stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", target_kind=~\"${target_kind}\", target_name=~\"${target_name}\"}"
              ]
            }
          },
          "name": "restore_invoker_name"
        }
      }
    ],
    "panels": {
      "0_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Applications",
            "description": "Number of applications that has been configured for backup"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "sparkline": {},
              "thresholds": {
                "steps": [
                  {
                    "color": "#73bf69",
                    "value": 0
                  },
                  {
                    "color": "#f2495c",
                    "value": 80
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_backupconfiguration_info{namespace=~\"${namespace}\", target_kind=~\"${target_kind}\", target_name=~\"${target_name}\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Successful Backups",
            "description": "Total number of successful backup"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#73bf69",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_backupsession_info{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\", phase=\"Succeeded\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Running Backups",
            "description": "Number of backup sessions that are currently running"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#8ab8ff",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_backupsession_info{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\",phase=\"Running\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Skipped Backup",
            "description": "Number of backup sessions that have been skipped"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#8f3bb8",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_backupsession_info{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\", phase=\"Skipped\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Failed Backups",
            "description": "Number of backups that have failed"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#f2495c",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_backupsession_info{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\", phase=\"Failed\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Backup Size",
            "description": "Total size of the backed up data"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "format": {
                "unit": "bytes"
              },
              "thresholds": {
                "steps": [
                  {
                    "color": "#73bf69",
                    "value": 0
                  }
                ]
              },
              "valueFontSize": 48
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(stash_appscode_com_repository_size_bytes{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\",})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "0_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Backup Targets",
            "description": "A list of backup targets"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "header": "Kind",
                  "name": "target_kind (lastNotNull)"
                },
                {
                  "header": "Name",
                  "name": "target_name (lastNotNull)"
                },
                {
                  "header": "Namespace",
                  "name": "namespace"
                },
                {
                  "header": "Invoker Kind",
                  "hide": false,
                  "name": "invoker_kind"
                },
                {
                  "header": "Invoker Name",
                  "hide": false,
                  "name": "invoker_name"
                },
                {
                  "header": "Repository",
                  "name": "repository (lastNotNull)"
                },
                {
                  "header": "Driver",
                  "name": "driver (lastNotNull)"
                },
                {
                  "header": "Schedule",
                  "name": "schedule (lastNotNull)"
                },
                {
                  "header": "Ready",
                  "name": "status (lastNotNull)"
                },
                {
                  "header": "Last Successful Backup",
                  "name": "Value #C (lastNotNull)"
                },
                {
                  "name": "Repository",
                  "width": 247
                },
                {
                  "name": "BackupConfiguration",
                  "width": 350
                },
                {
                  "name": "Name",
                  "width": 283
                },
                {
                  "name": "Kind",
                  "width": 162
                },
                {
                  "name": "Schedule",
                  "width": 126
                },
                {
                  "name": "Driver",
                  "width": 109
                },
                {
                  "name": "Namespace",
                  "width": 151
                },
                {
                  "name": "Ready",
                  "width": 96
                },
                {
                  "name": "Last Successful Backup"
                },
                {
                  "name": "Invoker Name",
                  "width": 311
                }
              ],
              "transforms": [
                {
                  "kind": "MergeSeries",
                  "spec": {}
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_backupconfiguration_info{namespace=~\"${namespace}\", target_kind=~\"${target_kind}\", target_name=~\"${target_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_backupconfiguration_conditions{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\", condition=\"CronJobCreated\", status=\"True\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_backupsession_last_success_time_seconds{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"} * 1000",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "1_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "CPU Usage (Backup Job/Sidecar)",
            "description": "CPU Usage by the backup pods"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.2,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"${namespace}\", container!=\"\", pod=~\"stash-backup-.*\",image!=\"\"}[$__rate_interval])) by(pod)",
                    "seriesNameFormat": "{{pod}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "rate(container_cpu_usage_seconds_total{namespace=~\"${namespace}\", container=\"stash\",image!=\"\"}[$__rate_interval])",
                    "seriesNameFormat": "{{pod}}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Memory Usage (Backup Job/Sidecar)",
            "description": "Memory usage by backup containers"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.2,
                "connectNulls": false,
                "display": "line",
                "lineStyle": "solid",
                "lineWidth": 1,
                "stack": "all"
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                },
                "min": 0
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(container_memory_usage_bytes{namespace!=\"\", container!=\"\",pod=~\"stash-backup-.*\",image!=\"\"})by(pod) > 0",
                    "seriesNameFormat": "{{pod}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(container_memory_usage_bytes{namespace!=\"\", container=\"stash\",image!=\"\"})by(pod) > 0",
                    "seriesNameFormat": "{{pod}}"
                  }
                }
              }
            }
          ]
        }
      },
      "1_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Recent Backups",
            "description": "List of BackupSessions"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "header": "BackupSession Name",
                  "name": "backupsession (lastNotNull)"
                },
                {
                  "header": "Namespace",
                  "name": "namespace"
                },
                {
                  "header": "Invoker Kind",
                  "name": "invoker_kind"
                },
                {
                  "header": "Invoker Name",
                  "name": "invoker_name"
                },
                {
                  "header": "Repository",
                  "name": "repository (lastNotNull)"
                },
                {
                  "header": "Phase",
                  "name": "phase (lastNotNull)"
                },
                {
                  "header": "Session Duration",
                  "name": "Value #B (lastNotNull)"
                },
                {
                  "name": "Phase",
                  "width": 138
                },
                {
                  "name": "Name",
                  "width": 373
                },
                {
                  "name": "Invoker Kind",
                  "width": 192
                },
                {
                  "name": "Invoker Name",
                  "width": 279
                },
                {
                  "name": "Repository",
                  "width": 251
                },
                {
                  "name": "Session Duration"
                },
                {
                  "name": "Creation Time"
                },
                {
                  "name": "BackupSession Name",
                  "width": 464
                }
              ],
              "transforms": [
                {
                  "kind": "MergeSeries",
                  "spec": {}
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_backupsession_info{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_backupsession_duration_seconds{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_backupsession_created{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"} * 1000",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "2_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Repositories",
            "description": "List of Repositories currently exist in the cluster"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "header": "Name",
                  "name": "repository"
                },
                {
                  "header": "Namespace",
                  "name": "namespace"
                },
                {
                  "header": "Backend",
                  "name": "backend (lastNotNull)"
                },
                {
                  "header": "Bucket/Container",
                  "name": "bucket (lastNotNull)"
                },
                {
                  "header": "Prefix",
                  "name": "prefix (lastNotNull)"
                },
                {
                  "header": "Integrity",
                  "name": "Value #A (lastNotNull)"
                },
                {
                  "header": "Snapshot Count",
                  "name": "Value #B (lastNotNull)"
                },
                {
                  "header": "Size",
                  "name": "Value #C (lastNotNull)"
                },
                {
                  "header": "Last Backup Time",
                  "name": "Value #D (lastNotNull)"
                },
                {
                  "name": "Integrity",
                  "width": 112
                },
                {
                  "name": "Size",
                  "width": 118
                },
                {
                  "name": "Last Backup Time"
                },
                {
                  "name": "Name",
                  "width": 268
                },
                {
                  "name": "Backend",
                  "width": 116
                },
                {
                  "name": "Bucket/Container",
                  "width": 215
                },
                {
                  "name": "Prefix",
                  "width": 392
                },
                {
                  "name": "Snapshot Count",
                  "width": 134
                }
              ],
              "transforms": [
                {
                  "kind": "MergeSeries",
                  "spec": {}
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_repository_integrity{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_repository_snapshot_count{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_repository_size_bytes{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_backupsession_last_success_time_seconds{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"} * 1000",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "2_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Repository Sizes",
            "description": "Graph showing how repository size grows over time"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.2,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1,
                "stack": "all"
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_repository_size_bytes{namespace=~\"${namespace}\", invoker_kind=~\"${backup_invoker_kind}\", invoker_name=~\"${backup_invoker_name}\"}",
                    "seriesNameFormat": "{{namespace}}/{{name}}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Total Restore Count",
            "description": "Number of total restore done within the time-frame"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#8ab8ff",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Successful Restores",
            "description": "Total number of successful restores"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#56a64b",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\", phase=\"Succeeded\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_2": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Running Restores",
            "description": "Number of restore sessions that are currently running"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#8ab8ff",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\", phase=\"Running\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_3": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Pending Restores",
            "description": "Number of restore sessions that are currently pending to run"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#a352cc",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 53
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\"}) - count(stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\", phase=~\"Succeeded|Failed|Running\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_4": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Failed Restores",
            "description": "Number of restore sessions that have failed"
          },
          "plugin": {
            "kind": "StatChart",
            "spec": {
              "calculation": "last-number",
              "thresholds": {
                "steps": [
                  {
                    "color": "text",
                    "value": 0
                  },
                  {
                    "color": "#f2495c",
                    "value": 1
                  }
                ]
              },
              "valueFontSize": 56
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "count(stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\", phase=\"Failed\"})",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_5": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Recent Restores",
            "description": "List of current RestoreSession in the cluster"
          },
          "plugin": {
            "kind": "Table",
            "spec": {
              "columnSettings": [
                {
                  "header": "Kind",
                  "name": "target_kind (lastNotNull)"
                },
                {
                  "header": "Name",
                  "name": "target_name (lastNotNull)"
                },
                {
                  "header": "Namespace",
                  "name": "namespace"
                },
                {
                  "header": "Invoker Kind",
                  "name": "invoker_kind"
                },
                {
                  "header": "Invoker Name",
                  "name": "invoker_name"
                },
                {
                  "header": "Repository",
                  "name": "repository (lastNotNull)"
                },
                {
                  "header": "Driver",
                  "name": "driver (lastNotNull)"
                },
                {
                  "header": "Phase",
                  "name": "phase (lastNotNull)"
                },
                {
                  "header": "Session Duration",
                  "name": "Value #B (lastNotNull)"
                },
                {
                  "name": "Phase",
                  "width": 117
                },
                {
                  "name": "Name",
                  "width": 277
                },
                {
                  "name": "Namespace",
                  "width": 120
                },
                {
                  "name": "Invoker Name",
                  "width": 285
                },
                {
                  "name": "Driver",
                  "width": 108
                },
                {
                  "name": "Repository",
                  "width": 265
                },
                {
                  "name": "Session Duration"
                },
                {
                  "name": "Restored At"
                }
              ],
              "transforms": [
                {
                  "kind": "MergeSeries",
                  "spec": {}
                }
              ]
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_restoresession_info{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_restoresession_duration_seconds{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\"}",
                    "seriesNameFormat": ""
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "stash_appscode_com_restoresession_created{namespace=~\"${namespace}\", invoker_kind=~\"${restore_invoker_kind}\", invoker_name=~\"${restore_invoker_name}\"} * 1000",
                    "seriesNameFormat": ""
                  }
                }
              }
            }
          ]
        }
      },
      "3_6": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "CPU Usage (Restore Job/Sidecar)",
            "description": "CPU Usage by the  restore pods"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.2,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1,
                "stack": "all"
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"${namespace}\", container!=\"\", pod=~\"stash-restore-.*\",image!=\"\"}[$__rate_interval])) by(pod)",
                    "seriesNameFormat": "{{pod}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "rate(container_cpu_usage_seconds_total{namespace=~\"${namespace}\",container=\"stash-init\"}[$__rate_interval])",
                    "seriesNameFormat": "{{container}}"
                  }
                }
              }
            }
          ]
        }
      },
      "3_7": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Memory Usage (Restore Job/Sidecar)",
            "description": "Memory usage by  restore containers"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.2,
                "connectNulls": false,
                "display": "line",
                "lineStyle": "solid",
                "lineWidth": 1,
                "stack": "all"
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                },
                "min": 0
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(container_memory_usage_bytes{namespace=~\"${namespace}\", container!=\"\",pod=~\"stash-restore-.*\",image!=\"\"})by(pod) > 0",
                    "seriesNameFormat": "{{pod}}"
                  }
                }
              }
            },
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(container_memory_usage_bytes{namespace=~\"${namespace}\", container=\"stash-init\",image!=\"\"})by(pod) > 0",
                    "seriesNameFormat": "{{pod}}"
                  }
                }
              }
            }
          ]
        }
      },
      "4_0": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "CPU Usage"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.2,
                "connectNulls": false,
                "display": "line",
                "lineWidth": 1
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(irate(container_cpu_usage_seconds_total{container=~\"operator|pushgateway\", pod=~\".*stash-enterprise.*\"}[$__rate_interval])) by(container)",
                    "seriesNameFormat": "{{container}}"
                  }
                }
              }
            }
          ]
        }
      },
      "4_1": {
        "kind": "Panel",
        "spec": {
          "display": {
            "name": "Memory Usage",
            "description": "Memory Usage of Stash Operator"
          },
          "plugin": {
            "kind": "TimeSeriesChart",
            "spec": {
              "legend": {
                "mode": "list",
                "position": "bottom",
                "values": []
              },
              "visual": {
                "areaOpacity": 0.2,
                "connectNulls": false,
                "display": "line",
                "lineStyle": "solid",
                "lineWidth": 1
              },
              "yAxis": {
                "format": {
                  "unit": "bytes"
                }
              }
            }
          },
          "queries": [
            {
              "kind": "TimeSeriesQuery",
              "spec": {
                "plugin": {
                  "kind": "PrometheusTimeSeriesQuery",
                  "spec": {
                    "minStep": "",
                    "query": "sum(container_memory_usage_bytes{container=~\"operator|pushgateway\", pod=~\".*stash-enterprise.*\"})by(container)",
                    "seriesNameFormat": "{{container}}"
                  }
                }
              }
            }
          ]
        }
      }
    },
    "layouts": [
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Overview",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 1,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/0_0"
              }
            },
            {
              "x": 4,
              "y": 1,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/0_1"
              }
            },
            {
              "x": 8,
              "y": 1,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/0_2"
              }
            },
            {
              "x": 12,
              "y": 1,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/0_3"
              }
            },
            {
              "x": 16,
              "y": 1,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/0_4"
              }
            },
            {
              "x": 20,
              "y": 1,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/0_5"
              }
            },
            {
              "x": 0,
              "y": 4,
              "width": 24,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/0_6"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Backups",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 14,
              "width": 24,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/1_0"
              }
            },
            {
              "x": 0,
              "y": 22,
              "width": 24,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/1_1"
              }
            },
            {
              "x": 0,
              "y": 32,
              "width": 24,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/1_2"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Repository",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 41,
              "width": 24,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/2_0"
              }
            },
            {
              "x": 0,
              "y": 51,
              "width": 24,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/2_1"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Restores",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 61,
              "width": 5,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/3_0"
              }
            },
            {
              "x": 5,
              "y": 61,
              "width": 5,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/3_1"
              }
            },
            {
              "x": 10,
              "y": 61,
              "width": 5,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/3_2"
              }
            },
            {
              "x": 15,
              "y": 61,
              "width": 5,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/3_3"
              }
            },
            {
              "x": 20,
              "y": 61,
              "width": 4,
              "height": 3,
              "content": {
                "$ref": "#/spec/panels/3_4"
              }
            },
            {
              "x": 0,
              "y": 64,
              "width": 24,
              "height": 9,
              "content": {
                "$ref": "#/spec/panels/3_5"
              }
            },
            {
              "x": 0,
              "y": 73,
              "width": 24,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/3_6"
              }
            },
            {
              "x": 0,
              "y": 81,
              "width": 24,
              "height": 10,
              "content": {
                "$ref": "#/spec/panels/3_7"
              }
            }
          ]
        }
      },
      {
        "kind": "Grid",
        "spec": {
          "display": {
            "title": "Operator & Pushgateway",
            "collapse": {
              "open": true
            }
          },
          "items": [
            {
              "x": 0,
              "y": 92,
              "width": 24,
              "height": 7,
              "content": {
                "$ref": "#/spec/panels/4_0"
              }
            },
            {
              "x": 0,
              "y": 99,
              "width": 24,
              "height": 8,
              "content": {
                "$ref": "#/spec/panels/4_1"
              }
            }
          ]
        }
      }
    ],
    "duration": "1h"
  }
}